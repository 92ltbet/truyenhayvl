(()=>{var e={};e.id=998,e.ids=[998],e.modules={5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},1877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},5319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},6689:e=>{"use strict";e.exports=require("react")},997:e=>{"use strict";e.exports=require("react/jsx-runtime")},9491:e=>{"use strict";e.exports=require("assert")},6113:e=>{"use strict";e.exports=require("crypto")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},2037:e=>{"use strict";e.exports=require("os")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},6224:e=>{"use strict";e.exports=require("tty")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")},736:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>o.a,__next_app__:()=>u,originalPathname:()=>p,pages:()=>d,routeModule:()=>h,tree:()=>l});var s=r(7096),a=r(6132),i=r(7284),o=r.n(i),n=r(2564),c={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>n[e]);r.d(t,c);let l=["",{children:["the-loai",{children:["[slug]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,9994)),"C:\\Users\\Admin\\Desktop\\anh 282\\1\\vencomic\\src\\app\\the-loai\\[slug]\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,5346)),"C:\\Users\\Admin\\Desktop\\anh 282\\1\\vencomic\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,9291,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\Users\\Admin\\Desktop\\anh 282\\1\\vencomic\\src\\app\\the-loai\\[slug]\\page.tsx"],p="/the-loai/[slug]/page",u={require:r,loadChunk:()=>Promise.resolve()},h=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/the-loai/[slug]/page",pathname:"/the-loai/[slug]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},275:(e,t,r)=>{Promise.resolve().then(r.bind(r,402)),Promise.resolve().then(r.bind(r,7097)),Promise.resolve().then(r.bind(r,8698)),Promise.resolve().then(r.bind(r,8354)),Promise.resolve().then(r.bind(r,9209)),Promise.resolve().then(r.bind(r,9617)),Promise.resolve().then(r.bind(r,4589)),Promise.resolve().then(r.bind(r,1285)),Promise.resolve().then(r.bind(r,2612)),Promise.resolve().then(r.bind(r,7552)),Promise.resolve().then(r.bind(r,6678)),Promise.resolve().then(r.bind(r,7478))},7478:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>p});var s=r(3854);r(4218);var a=r(5548),i=r.n(a),o=r(1956),n=r.n(o),c=r(7919),l=r(5323),d=r(5003);function p({comic:e,className:t=""}){console.log("Comic data:",e),console.log("ChaptersLatest:",e.chaptersLatest),console.log("Chapters:",e.chapters),console.log("Total chapters:",e.total_chapters);let r="?";if(e.chaptersLatest&&e.chaptersLatest.length>0){let t=e.chaptersLatest[0].chapter_name.match(/\d+/);t&&(r=t[0])}if("?"===r&&e.total_chapters&&e.total_chapters>0&&(r=e.total_chapters.toString()),"?"===r&&e.chapters&&e.chapters.length>0){for(let t of e.chapters)if(t.server_data&&t.server_data.length>0){for(let e of t.server_data){let t=e.chapter_name.match(/\d+/);if(t){r=t[0];break}}if("?"!==r)break}}let a="";if(e.chaptersLatest&&e.chaptersLatest.length>0)try{a=(0,l.Z)(new Date(e.updatedAt),{addSuffix:!0,locale:d.vi})}catch(e){a="gần đ\xe2y"}return(0,s.jsxs)(i(),{href:`/truyen/${e.slug}`,className:`group ${t}`,children:[(0,s.jsxs)("div",{className:"relative aspect-[2/3] rounded-lg overflow-hidden",children:[s.jsx(n(),{src:(0,c.J)(e.thumb_url),alt:e.name,fill:!0,className:"object-cover transition-transform duration-300 group-hover:scale-105",sizes:"(max-width: 768px) 50vw, (max-width: 1200px) 33vw, 25vw",loading:"lazy",onError:e=>{let t=e.target;t.src="/images/placeholder.jpg"}}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),(0,s.jsxs)("div",{className:"absolute top-1 md:top-2 left-1 md:left-2 px-1.5 py-0.5 md:px-2 md:py-1 text-[10px] md:text-xs rounded-full bg-pink-600 text-white",children:["Chap ",r]})]}),(0,s.jsxs)("div",{className:"mt-2",children:[s.jsx("h3",{className:"font-medium text-white line-clamp-2 group-hover:text-pink-400 transition-colors",children:e.name}),a&&s.jsx("div",{className:"mt-1",children:(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[s.jsx("span",{className:"font-medium text-pink-400",children:"Cập Nhật:"}),s.jsx("span",{children:a})]})})]})]})}},7919:(e,t,r)=>{"use strict";function s(e){return e?e.startsWith("http")?e:e.startsWith("/data/images/")?`https://img.otruyenapi.com${e}`:`https://img.otruyenapi.com/uploads/comics/${e}`:"/images/placeholder.jpg"}r.d(t,{J:()=>s})},9994:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c});var s=r(997),a=r(4911),i=r(920),o=r(6689),n=r(7952);async function c({params:e}){let{data:t}=await (0,a.Ko)(e.slug);return(0,s.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[s.jsx("h1",{className:"text-2xl font-bold mb-6 capitalize",children:e.slug.replace(/-/g," ")}),s.jsx(o.Suspense,{fallback:s.jsx(n.Z,{}),children:s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4",children:t.items.map(e=>s.jsx(i.ZP,{comic:e},e._id))})})]})}},920:(e,t,r)=>{"use strict";r.d(t,{ZP:()=>c});var s=r(5153);let a=(0,s.createProxy)(String.raw`C:\Users\Admin\Desktop\anh 282\1\vencomic\src\components\ComicCard.tsx`),{__esModule:i,$$typeof:o}=a,n=a.default,c=n},7952:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var s=r(997);function a(){return s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4",children:[...Array(12)].map((e,t)=>(0,s.jsxs)("div",{className:"animate-pulse",children:[s.jsx("div",{className:"aspect-[2/3] bg-gray-800 rounded-lg mb-2"}),s.jsx("div",{className:"h-4 bg-gray-800 rounded w-3/4 mb-2"}),s.jsx("div",{className:"h-4 bg-gray-800 rounded w-1/2"})]},t))})}},4911:(e,t,r)=>{"use strict";r.d(t,{K0:()=>x,Ko:()=>p,Y_:()=>h,eb:()=>d,o0:()=>g,zG:()=>u});var s=r(7117),a=r(9822);let i="https://otruyenapi.com/v1/api",o=null,n=0;async function c(){let e=Date.now();if(o&&e-n<3e5)return o;try{let t=await s.Z.get(`${i}/comics`);return o=t.data,n=e,o}catch(e){return console.error("Error reading comics data:",e),[]}}let l=s.Z.create({baseURL:i,headers:{"Content-Type":"application/json"}});async function d(){try{let e=await l.get("/home"),t=e.data.data.items,r=t.map(e=>{let t=e.chaptersLatest?.[0];return{...e,chapters:t?[{chapter_name:t.chapter_name,chapter_title:t.chapter_title,chapter_api_data:t.chapter_api_data}]:[],total_chapters:t?parseInt(t.chapter_name):0}});return{data:{items:r}}}catch(e){return console.error("Error fetching home data:",e),{data:{items:[]}}}}async function p(e){try{let t=await c(),r=t.filter(t=>t.category?.some(t=>t.slug===e));return{data:{items:r}}}catch(e){return console.error("Error reading comics data:",e),{data:{items:[]}}}}new a.S({defaultOptions:{queries:{staleTime:3e5,cacheTime:6e5}}});let u=async e=>{try{console.log("Fetching comic detail for slug:",e);let t=await l.get(`/truyen-tranh/${e}`);return console.log("API Response:",t.data),t.data}catch(e){throw console.error("Error fetching comic detail:",e),e}},h=async e=>{let t=await s.Z.get(e);return t.data},m=async()=>{let e=await l.get("/the-loai");return e.data},g=async()=>{let{data:e}=await m(),t=e.items[0],r=await l.get(`/the-loai/${t.slug}`);return r.data};async function x(e,t=1,r=[]){try{let s=await fetch(`${e}?page=${t}`,{headers:{accept:"application/json"}});if(!s.ok)throw Error("Failed to fetch data");let a=await s.json(),i=[...r,...a.data.items];if(a.data.pagination&&a.data.pagination.currentPage<a.data.pagination.totalPages)return x(e,t+1,i);return i}catch(e){return console.error("Error fetching all pages:",e),r}}}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[271,927,529,464,469,283,822],()=>r(736));module.exports=s})();