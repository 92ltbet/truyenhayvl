(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[507],{8586:function(e,t,r){Promise.resolve().then(r.bind(r,7019)),Promise.resolve().then(r.bind(r,1963)),Promise.resolve().then(r.bind(r,165)),Promise.resolve().then(r.bind(r,9676)),Promise.resolve().then(r.bind(r,505)),Promise.resolve().then(r.bind(r,9870)),Promise.resolve().then(r.bind(r,1431)),Promise.resolve().then(r.bind(r,4770)),Promise.resolve().then(r.bind(r,4428)),Promise.resolve().then(r.bind(r,157)),Promise.resolve().then(r.bind(r,8285)),Promise.resolve().then(r.t.bind(r,8326,23)),Promise.resolve().then(r.t.bind(r,4037,23)),Promise.resolve().then(r.bind(r,8407)),Promise.resolve().then(r.bind(r,8129))},8407:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return o}});var n=r(7437),s=r(2265);function o(e){let{imageUrl:t,alt:r,isEager:o=!1}=e,[a,i]=(0,s.useState)(!1),[l,c]=(0,s.useState)(!1),d=(0,s.useRef)(null);(0,s.useEffect)(()=>{if(!o){let e=d.current;if(e){let t=new IntersectionObserver(e=>{e.forEach(e=>{if(e.isIntersecting){let r=e.target;r.src=r.dataset.src||"",t.unobserve(r)}})},{rootMargin:"50px 0px"});return t.observe(e),()=>{t.unobserve(e)}}}},[o]);let u=()=>{i(!0)},m=()=>{if(c(!0),!o&&d.current){let e=d.current.getAttribute("data-src");e&&setTimeout(()=>{d.current&&(d.current.src=e),c(!1)},1e3)}};return o?(0,n.jsx)("div",{className:"w-full mx-auto max-w-3xl",children:(0,n.jsx)("img",{src:t,alt:r,className:"w-full h-auto",loading:"eager",fetchPriority:"high",onLoad:u,onError:m})}):(0,n.jsx)("div",{className:"w-full mx-auto max-w-3xl",children:(0,n.jsx)("img",{ref:d,src:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7","data-src":t,alt:r,className:"w-full h-auto chapter-image transition-opacity duration-300 ".concat(a?"opacity-100 loaded":"opacity-0"),style:{backgroundColor:a?"transparent":"#1f2937",minHeight:a?"auto":"300px"},loading:"lazy",onLoad:u,onError:m})})}},8129:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return i}});var n=r(7437),s=r(2265),o=r(1396),a=r.n(o);function i(e){let{chapters:t,currentChapter:r,comicSlug:o}=e,[i,l]=(0,s.useState)(!1),c=(0,s.useRef)(null);(0,s.useEffect)(()=>{function e(e){c.current&&!c.current.contains(e.target)&&l(!1)}return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]);let d=[...t].sort((e,t)=>parseInt(t.chapter_name)-parseInt(e.chapter_name));return(0,n.jsxs)("div",{className:"relative z-20",ref:c,children:[(0,n.jsx)("button",{onClick:()=>{l(!i)},className:"flex-1 sm:flex-none px-2 sm:px-4 md:px-6 py-2 md:py-3 rounded-lg bg-gray-800 hover:bg-gray-700 transition-colors text-white font-medium text-center whitespace-nowrap text-sm md:text-base",children:"Danh s\xe1ch chương"}),i&&(0,n.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm",children:(0,n.jsxs)("div",{className:"bg-gray-800 rounded-lg shadow-xl max-w-3xl w-full max-h-[80vh] flex flex-col",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between p-3 md:p-4 border-b border-gray-700",children:[(0,n.jsx)("h3",{className:"font-bold text-base md:text-lg text-white",children:"Danh s\xe1ch chương"}),(0,n.jsx)("button",{onClick:()=>l(!1),className:"p-1 rounded-full hover:bg-gray-700 transition-colors",children:(0,n.jsx)("svg",{className:"w-5 h-5 md:w-6 md:h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,n.jsx)("div",{className:"p-3 md:p-4 overflow-y-auto custom-scrollbar",children:(0,n.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-2 md:gap-3",children:d.map(e=>(0,n.jsxs)(a(),{href:"/truyen/".concat(o,"/chapter/").concat(e.chapter_name),className:"block p-2 rounded-lg text-center ".concat(e.chapter_name===r?"bg-pink-500/30 text-pink-300 font-medium":"bg-gray-700 hover:bg-gray-600 text-gray-300 hover:text-white"," transition-colors text-xs md:text-sm"),onClick:()=>l(!1),children:["Chương ",e.chapter_name]},e.chapter_api_data))})})]})})]})}},4037:function(){},622:function(e,t,r){"use strict";var n=r(2265),s=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,r){var n,o={},c=null,d=null;for(n in void 0!==r&&(c=""+r),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)a.call(t,n)&&!l.hasOwnProperty(n)&&(o[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===o[n]&&(o[n]=t[n]);return{$$typeof:s,type:e,key:c,ref:d,props:o,_owner:i.current}}t.Fragment=o,t.jsx=c,t.jsxs=c},7437:function(e,t,r){"use strict";e.exports=r(622)},1396:function(e,t,r){e.exports=r(8326)}},function(e){e.O(0,[326,699,971,472,744],function(){return e(e.s=8586)}),_N_E=e.O()}]);